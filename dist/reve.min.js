/**
* Reve v1.0.0
* (c) 2015 guankaishe
* Released under the MIT License.
*/
!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):"object"==typeof exports?exports.Reve=b():a.Reve=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";function d(a){return a?!!a.trim().match(/^\{[\s\S]*?\}$/m):!1}function e(a){return a.trim().match(/^\{([\s\S]*)\}$/m)[1].replace(/^- /,"")}function f(a,b,c,f,g){function i(b){return _execute(a,scope,b,f)}function j(a){var b=i(g);if(h.diff(b,p)){var c=p;p=b,s&&s.call(l,b,c,a)}}var l=this,m=[],n=!!d(g);if(n&&(g=e(g)),c.multi){var o;g=g.replace(/^[^:]+:/,function(a){return o=a.replace(/:$/,"").trim(),""}).trim(),m.push(o)}l.$el=b,l.$vm=a,l.$id=k++;var p,q,r=c.bind,s=(c.unbind,c.update);h.objEach(c,function(a,b){l[a]=b}),p=n?i(g):g,m.push(p),m.push(g),c.watch!==!1&&n&&(q=_watch(a,_extractVars(g),j)),l.$update=j,r&&r.apply(l,m,g),s&&s.call(l,p)}function g(a){var b=this,c=i.namespace;this.$directives=[],this.$update=function(){this.$directives.forEach(function(a){a.$update()})};var d=a.el;if(d&&a.template)d.innerHTML=a.template;else if(a.template)d=document.createElement("div"),d.innerHTML=a.template;else if("string"==h.type(d))d=document.querySelector(d);else if(!is.Element(d))throw new Error("Unmatch el option");Object.keys(j).forEach(function(a){var d=j[a];a+=c,h.slice(document.querySelectorAll("["+a+"]")).forEach(function(c){var g=c._diretives||[],i=c.getAttribute(a).value||"";if(!g||!~g.indexOf(a)){var j,k=h.directiveSep;d.multi&&i.match(k)?e(i).split(k).forEach(function(e){e.trim()&&(j=new f(b,c,d,a,"{"+e+"}"),_directives.push(j),_setBindings2Scope(scope,j))}):$d=new f(b,c,d,a,i),g.push(a),c._diretives=g}})})}var h=c(1),i=c(2),j=(c(3),c(5)),k=0;a.exports=g},function(a,b){"use strict";var c={type:function(a){return/\[object (\w+)\]/.exec(Object.prototype.toString.call(a))[1].toLowerCase()},objEach:function(a,b){if(a)for(var c in a)if(hasOwn(a,c)&&b(c,a[c])===!1)break},diff:function(a,b,c){var d=this;if(c=void 0==c?4:c,0>=c)return a!==b;if("array"==this.type(a)&&"array"==this.type(b))return a.length!==b.length?!0:a.some(function(a,e){return d.diff(a,b[e],c-1)});if("object"==this.type(a)&&"object"==this.type(b)){var e=Object.keys(a),f=Object.keys(b);if(e.length!=f.length)return!0;var d=this;return e.some(function(e){return!~f.indexOf(e)||d.diff(a[e],b[e],c-1)})}return a!==b},slice:function(a){return[].slice.call(a)}};a.exports=c},function(a,b){var c={namespace:"r-",directiveSep:";"};a.exports=c},function(a,b,c){"use strict";function d(a){if("string"==j.type(a))return e(j.copyArray(document.querySelectorAll(a)));if("array"==j.type(a))return e(a);if(a instanceof e)return a;if(k.DOM(a))return e(new f(a));throw new Error("Unexpect selector !")}function e(a){if(a instanceof e)return a;var b=new f;return a.forEach(function(a){b.push(a)}),b}function f(){this.push=function(){Array.prototype.push.apply(this,arguments)},this.forEach=function(){Array.prototype.forEach.apply(this,arguments)},this.push.apply(this,arguments)}function g(a){return a&&a.parentNode}function h(){return document.createDocumentFragment()}function i(a,b){return a.appendChild(b)}var j=c(1),k=c(4);f.prototype=Object.create(e.prototype);var l=e.prototype;l.find=function(a){var b=[];return this.forEach(function(c){b=b.concat(j.copyArray(c.querySelectorAll(a)))}),e(b)},l.attr=function(a,b){var c=arguments.length,d=this[0];if(c>1)d.setAttribute(a,b);else if(1==c)return(d.getAttribute(a)||"").toString();return this},l.removeAttr=function(a){return this.forEach(function(b){b.removeAttribute(a)}),this},l.addClass=function(a){return this.forEach(function(b){var c=b.className.split(" ");~c.indexOf(a)||c.push(a),b.className=c.join(" ")}),this},l.removeClass=function(a){return this.forEach(function(b){var c=b.className.split(" "),d=c.indexOf(a);~d&&c.splice(d,1),b.className=c.join(" ")}),this},l.each=function(a){return this.forEach(a),this},l.on=function(a,b,c){return this.forEach(function(d){d.addEventListener(a,b,c)}),this},l.off=function(a,b){return this.forEach(function(c){c.removeEventListener(a,b)}),this},l.html=function(a){var b=arguments.length;if(b>=1)this.forEach(function(b){b.innerHTML=a});else if(this.length)return this[0].innerHTML;return this},l.parent=function(){return this.length?e([g(this[0])]):null},l.remove=function(){return this.forEach(function(a){var b=g(a);b&&b.removeChild(a)}),this},l.insertBefore=function(a){var b;return this.length?(1==this.length?b=this[0]:(b=h(),this.forEach(function(a){i(b,a)})),g(a).insertBefore(b,a),this):this},l.insertAfter=function(a){var b;return this.length?(1==this.length?b=this[0]:(b=h(),this.forEach(function(a){i(b,a)})),g(a).insertBefore(b,a.nextSibling),this):this},l.get=function(a){return this[a]},l.append=function(a){return this.length&&i(this[0],a),this},l.appendTo=function(a){if(1==this.length)i(a,this[0]);else if(this.length>1){var b=h();this.forEach(function(a){i(b,a)}),i(a,b)}},l.replace=function(a){var b=this[0];return g(b).replaceChild(a,b),this},a.exports=d},function(a,b,c){"use strict";var d=c(2);a.exports={Element:function(a){return a instanceof HTMLElement||a instanceof DocumentFragment},DOM:function(a){return this.Element(a)||a instanceof Comment},IfElement:function(a){return a==(d.namespace+"if").toUpperCase()},RepeatElement:function(a){return a==(d.namespace+"repeat").toUpperCase()}}},function(a,b,c){"use strict";var d=c(3),e=c(2),f=c(1);a.exports={attr:{multi:!0,bind:function(a){this.attname=a,this._$el=d(this.$el)},update:function(a){a||""===a?this._$el.attr(this.attname,a):this._$el.removeAttr(this.attname)}},"class":{multi:!0,bind:function(a){this.className=a,this._$el=d(this.$el)},update:function(a){a?this._$el.addClass(this.className):this._$el.removeClass(this.className)}},html:{update:function(a){this.$el.innerHTML=a}},model:{bind:function(a){var b=this.$el.tagName,c=b.toLowerCase(),g=this._$el=d(this.$el);switch(c="input"==c?g.attr("type")||"text":c){case"tel":case"url":case"text":case"search":case"password":case"textarea":this.evtType="input";break;case"date":case"week":case"time":case"month":case"datetime":case"datetime-local":case"color":case"range":case"number":case"select":case"checkbox":this.evtType="change";break;default:return void console.warn('"'+e.namespace+'model" only support input,textarea,select')}var h=this.$vm,i="checkbox"==c?"checked":"value",j=this;this._requestChange=function(){h.$set(j._prop,j.$el[i])},this._update=function(){j.$el[i]=h.$get(j._prop)},g.on(this.evtType,this._requestChange);for(var k=this._watches=[],l=f.normalize(a);l;)k.push(this.$vm.$watch(l,this._update)),l=f.digest(l)},update:function(a){this._prop=a,this._update()},unbind:function(){this._$el.off(this.evtType,this._requestChange),this._watches.forEach(function(a){a()})}},on:{multi:!0,watch:!1,bind:function(a,b,c){this._expr=c,this.type=a},update:function(a){this.unbind();var b=a;return"function"!==f.type(b)?console.warn('"'+e.namespace+'on" only accept function. {'+this._expr+"}"):(this.fn=b.bind(this.$vm),void d(this.$el).on(this.type,this.fn,!1))},unbind:function(){this.fn&&(d(this.$el).off(this.type,this.fn),this.fn=null)}},show:{update:function(a){this.$el.style.display=a?"":"none"}},style:{multi:!0,bind:function(a){this.sheet=a},update:function(a){this.$el.style&&(this.$el.style[this.sheet]=a)}}}}])});